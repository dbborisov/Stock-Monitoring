<!DOCTYPE html>
<html
        lang="en"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="http://www.thymeleaf.org"
>
<th:block th:include="fragments/head"/>
<body>
<th:block th:include="fragments/nav"/>

<div>
    <br/>
    <form action="/add"  method="POST" enctype="utf8"  name="updateForm" >
        <div>

            <label>Url</label><br/>
            <input type="text" tvalue="${model.url}" name = "url" />
        </div>
<!--        <div>-->

<!--            <label >email</label>-->
<!--            <input  th:field="*{email}" type="email" class="form-control" required="true"/>-->
<!--        </div>-->
        <br/>
        <button  type="submit" class="btn btn-lg btn-primary btn-block">submit</button>
    </form>
</div>

<div class="container">

    <input th:type="text"  id="some" />
    <button class="find">Click me</button>
<div class="container" id = "pa"></div>


</div>

<script>
    let idRest;

    $(".find").click(function(){
        const url = window.location.href;
        idRest = document.getElementById("some").value;
        console.log(idRest);
        $.get(url+"/one/"+idRest, function(data, status){
             document.getElementById("pa").innerHTML = data.response
            // alert("Data: " + data.response + "\nStatus: " + status);
        });
    });
</script>
<script>




    const fetchTableData = () => {
        return fetch("http://" + window.location.host+"/one/1")
            .then(result => result.json())
            .then(data => {
                return data.response;
            })
    }



</script>

<!---->

<!--<div ng-app="myApp" ng-controller="myCtrl">-->

<!--    <p>Today's welcome message is:</p>-->

<!--    <h1>{{myWelcome}}</h1>-->

<!--</div>-->

<!--<p>The $http service requests a page on the server, and the response is set as the value of the "myWelcome" variable.</p>-->

<!--<script>-->
<!--    var app = angular.module('myApp', []);-->
<!--    app.controller('myCtrl', function($scope, $http) {-->
<!--        $http.get("http://localhost:8080/one/1")-->
<!--            .then(function(response) {-->
<!--                $scope.myWelcome = response.data;-->
<!--            });-->
<!--    });-->
<!--//  </script>-->


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
</body>
</html>